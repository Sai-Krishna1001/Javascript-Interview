# Node.js Tricks and Tips

| Feature/Trick                         | Description                                                                 | Example/Usage                                                                                                      |
|---------------------------------------|-----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------|
| **REPL Tips**                         | Use the Read-Eval-Print Loop (REPL) for quick code testing.                 | Start REPL with `node` in the terminal, use `.help` for commands.                                                   |
| **Run Scripts Without `node`**        | Use `#!/usr/bin/env node` at the top of scripts to run them without typing `node`. | Add `#!/usr/bin/env node` at the beginning of your script, then run it directly (`chmod +x script.js`).          |
| **Global Uncaught Exception Handling** | Catch unhandled errors globally to avoid crashing.                          | `process.on('uncaughtException', (err) => { console.error('Caught exception:', err); });`                          |
| **Memory Usage Check**                | Monitor your app’s memory usage in real-time.                               | `console.log(process.memoryUsage());`                                                                              |
| **Benchmarking**                      | Measure the performance of code snippets.                                   | Use `console.time('label')` and `console.timeEnd('label')` around your code block.                                  |
| **Environment Variables**             | Use environment variables for configuration.                                | Access variables with `process.env.VAR_NAME`. Use `dotenv` for loading from `.env` files.                          |
| **Cluster Module**                    | Utilize all CPU cores for better performance.                               | `const cluster = require('cluster'); if (cluster.isMaster) { /* fork workers */ } else { /* worker code */ }`      |
| **Hot Reloading**                     | Automatically reload your server on code changes using `nodemon`.           | Install `nodemon` and run your app with `nodemon app.js`.                                                          |
| **Debugging with Inspector**          | Use Node's built-in inspector for debugging.                                | Run your app with `node --inspect-brk app.js` and open `chrome://inspect` in Chrome.                               |
| **Memory Profiling**                  | Profile memory usage with Node's `--inspect` flag and Chrome DevTools.      | Run your app with `node --inspect app.js`, open `chrome://inspect`, and take a memory snapshot.                    |
| **HTTP/2 Support**                    | Use Node's built-in HTTP/2 module for faster and more secure connections.   | `const http2 = require('http2'); const server = http2.createServer();`                                              |
| **Using Buffers**                     | Work with binary data using Node’s `Buffer` class.                          | `const buf = Buffer.from('Hello'); console.log(buf.toString('hex'));`                                              |
| **Child Processes**                   | Run shell commands or other scripts within your Node app.                   | `const { exec } = require('child_process'); exec('ls', (err, stdout) => console.log(stdout));`                     |
| **Graceful Shutdown**                 | Ensure your app shuts down properly by handling signals.                    | `process.on('SIGINT', () => { /* clean up */ process.exit(); });`                                                  |
| **Async Hooks**                       | Trace async operations in your Node.js app.                                 | `const async_hooks = require('async_hooks'); async_hooks.createHook({...}).enable();`                              |
| **Stream Handling**                   | Work with streams to efficiently handle large data sets.                    | `fs.createReadStream('largeFile.txt').pipe(process.stdout);`                                                        |
| **Promisify Callback Functions**      | Convert callback-based functions to Promises for easier async handling.     | `const { promisify } = require('util'); const readFileAsync = promisify(fs.readFile);`                             |
| **Built-in Module Aliases**           | Use shortcuts for commonly used modules.                                    | Instead of `require('path')`, you can use `const path = require('path');` or `import path from 'path';` in ES modules. |
| **Interactive Debugging with REPL**   | Attach a REPL to a running Node.js process for live debugging.              | `process.stdin.resume(); process.stdin.on('data', (chunk) => { eval(chunk.toString()); });`                        |
| **Native Addons**                     | Extend Node.js with C/C++ addons for performance-critical tasks.            | Use `node-gyp` to compile and include native addons.                                                               |
| **Inspector in VS Code**              | Debug Node.js directly in Visual Studio Code.                               | Set breakpoints and use the built-in debugger in VS Code by running your app with `F5`.                            |
| **Module Caching**                    | Understand how Node caches modules to optimize performance.                 | Modules are cached after the first `require` call; subsequent `require` calls load from cache.                     |
| **Handling Unhandled Promise Rejections** | Handle unhandled promise rejections to avoid crashes.                  | `process.on('unhandledRejection', (reason, promise) => { /* log and handle */ });`                                 |
